<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Home</title>
  <!-- Bootstrap Import -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
  <script type="text/javascript" src="js/jquery-ui.min.js"></script>
  <script type="text/javascript" src="js/jquery.easing.1.3.min.js"></script>
  <script type="text/javascript" src="js/transition.js"></script>
  <script type="text/javascript" src="js/jquery-confirm.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.6/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
  <script src="cordova.js"></script>

  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="css/jquery-confirm.css">

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css?family=Prompt" rel="stylesheet">

  <!-- DatePicker -->
  <link rel="stylesheet" href="css/duDatepicker.css">
  <script src="js/duDatepicker.js"></script>

  <style>
    hr{
      margin-top: 0;
      hieght: 90%;
    }
    .pdr{
    	padding-right: 10%;
    }
    .pdl{
    	padding-left: 10%;
    }

    .nopd{
    	padding-left: 0;
    	padding-right: 0;
    }

    .underline{
    	text-decoration: underline #666;
    }    
  </style>

  <script>
    $(document).ready(function(){
      $('#datepicker-from').duDatepicker(({rangeTo: '#datepicker-to',format: 'dd/mm/yy', theme: 'red', cancelBtn: true,})).on('datechanged', function(e){
        console.log(e.date);
        $("#datepicker-to").trigger('click');
      });

      $('#datepicker-to').duDatepicker(({rangeFrom: '#datepicker-from', format: 'dd/mm/yy', theme: 'red', cancelBtn: true,})).on('datechanged', function(e){
        console.log(e.date);
      });
    });
    function show_search(){
      if($("#search_row").is(':visible')){
        $("#search_row").prop('hidden', true);
      }else{
        $("#search_row").prop('hidden', false);
      }
    }

    function disactive(arg) {
        nav_menu = ['home', 'add', 'edit', 'del'];
        for (i = 0; i < 4; i++) {
            if (nav_menu[i] != arg) {
                if ($("#i-" + nav_menu[i]).hasClass('active')) $("#i-" + nav_menu[i]).removeClass('active');
            }
        }
    }


    function menu(arg) {
    	// Animate
        disactive(arg);
        if($("#i-"+arg).hasClass('active')){
            //console.log("i-"+arg+"hasClass('active')");
            $("#i-"+arg).removeClass('active');
          }else{
            $("#i-" + arg).fadeOut(150).fadeIn(100, function() {
              $("#i-" + arg).addClass('active');
            });
        }
        if (arg == "add") {
            /*goto = "sale.html";
            transition_page_back(goto);*/
        } else if(arg == "edit"){
            // show edit all
            if ($(".amount").hasClass('underline')) {
              $(".i-del").attr('hidden', true);
              $(".amount").removeClass('underline');
              $("#discount").removeClass('underline');
              $("#type").removeClass('underline');
              $("#get").removeClass('underline');
              $("#discount").attr('onclick', '');
              $("#type").attr('onclick', '');
              $("#get").attr('onclick', '');
              // if has 3 prod then index = 3
              for(i = 1; i <= 3; i++){ $("#amt-"+i).attr('onclick', ''); }
            } else {
              $(".i-del").attr('hidden', true);
              $(".amount").addClass('underline');
              $("#discount").addClass('underline');
              $("#get").addClass('underline');
              $("#type").addClass('underline');
              $("#discount").attr('onclick', 'edit_discount()');
              $("#type").attr('onclick', 'edit_type()');
              $("#get").attr('onclick', 'edit_get()');
              for(i = 1; i <= 3; i++){ $("#amt-"+i).attr('onclick', 'edit_amount('+i+')'); }
            }
        } else if (arg == "del") {
            // show trash all 
<<<<<<< HEAD
=======
            $("style").append(".jconfirm .jconfirm-box{margin-bottom: 5%;}");
>>>>>>> ca4527d3e391875f046e314ff495ab6fb1fd4451
            $.confirm({
                title: 'ลบรายการ',
                content: 'ต้องการลบบิล '+$("#h5-title").text()+' หรือไม่',
                backgroundDismiss: true,
<<<<<<< HEAD
                buttons: {
                  ยกเลิก: function () {},  
=======
                buttons: { 
>>>>>>> ca4527d3e391875f046e314ff495ab6fb1fd4451
                  formSubmit: {
                    text: 'ตกลง',
                    btnClass: 'btn-danger',
                    action: function () {
                        // delete bill
                    }
<<<<<<< HEAD
                  }
=======
                  },ยกเลิก: function () {}, 
>>>>>>> ca4527d3e391875f046e314ff495ab6fb1fd4451
                }  
            });
        }
    } 

    function edit_amount(arg){
    	$("style").append(".jconfirm .jconfirm-box{margin-bottom:60%;}");
    	$.confirm({
              title: $("#name-"+arg).text(),
              content: '<div class="row" style="margin-top: 2%; margin-bottom: 2%;"><div class="col-12 text-center" style="font-size: 110%; font-weight: bold;">จำนวน</div></div><div class="row"><div class="col-3"></div><div class="col-6 text-center"><input id="edt-amt" type="number" class="input-cf" value="'+$("#amt-"+arg).text()+'"></div><div class="col-3"></div></div>',
              backgroundDismiss: true,
              buttons: {
                formSubmit: {
                  text: 'ตกลง',
                  btnClass: 'btn-danger',
                  action: function () {

                  }
                },ยกเลิก: function () {
                    //$(".jconfirm .jconfirm-box").css('margin-bottom', '5%');
                  }
              }
            });
    }

    function edit_discount(){
      $("style").append(".jconfirm .jconfirm-box{margin-bottom:60%;}");
      $.confirm({
              title: "ลด",
              content: '<div class="row"><div class="col-3"></div><div class="col-6 text-center"><input id="edt-disc" type="number" class="input-cf" value="'+$("#discount").text()+'"></div><div class="col-3"></div></div>',
              backgroundDismiss: true,
              buttons: {
<<<<<<< HEAD
                ยกเลิก: function () {
                    //$(".jconfirm .jconfirm-box").css('margin-bottom', '5%');
                  },
=======
>>>>>>> ca4527d3e391875f046e314ff495ab6fb1fd4451
                formSubmit: {
                  text: 'ตกลง',
                  btnClass: 'btn-danger',
                  action: function () {

<<<<<<< HEAD
=======
                  },ยกเลิก: function () {
                    //$(".jconfirm .jconfirm-box").css('margin-bottom', '5%');
>>>>>>> ca4527d3e391875f046e314ff495ab6fb1fd4451
                  }
                }
              }
            });
    }

    function edit_get(){
      $("style").append(".jconfirm .jconfirm-box{margin-bottom:60%;}");
      $.confirm({
              title: "รับ",
              content: '<div class="row"><div class="col-3"></div><div class="col-6 text-center"><input id="edt-get" type="number" class="input-cf" value="'+$("#get").text()+'"></div><div class="col-3"></div></div>',
              backgroundDismiss: true,
              buttons: {
<<<<<<< HEAD
                ยกเลิก: function () {
                    //$(".jconfirm .jconfirm-box").css('margin-bottom', '5%');
                  },
=======
>>>>>>> ca4527d3e391875f046e314ff495ab6fb1fd4451
                formSubmit: {
                  text: 'ตกลง',
                  btnClass: 'btn-danger',
                  action: function () {
<<<<<<< HEAD

                  }
                }
              }
            });
    }

=======

                  }
                },ยกเลิก: function () {
                    //$(".jconfirm .jconfirm-box").css('margin-bottom', '5%');
                  }
              }
            });
    }

>>>>>>> ca4527d3e391875f046e314ff495ab6fb1fd4451
    function edit_type(){
      $.confirm({
        title: 'การชำระเงิน',
        content: '<hr style="width: 80%; margin-bottom: 0;">',
        backgroundDismiss: true,
        buttons: {
          form1: {
            text: 'เงินสด',
            btnClass: 'btn-choice',
            action: function () {
              $("#pay").val('เงินสด');
            }
          },
          form2: {
            text: 'เครดิต (30)',
            btnClass: 'btn-choice',
            action: function () {
              $("#pay").val('เครดิต (30)');
            }
          },
          form3: {
            text: 'เครดิต (60)',
            btnClass: 'btn-choice',
            action: function () {
              $("#pay").val('เครดิต (60)');
            }
          },
          form4: {
            text: 'เครดิต (90)',
            btnClass: 'btn-choice',
            action: function () {
              $("#pay").val('เครดิต (90)');
            }
          }
        }
      });
    }
  </script>
</head>

<body style="overflow: auto;">
  <!-- Loading -->
  <div class="overlay" hidden><div class="loading"></div></div>

  <!-- Nav menu top -->
  <div class="row fixed-top navs">
    <div class="col-1 text-center" onclick="page_back()">
      <i id="i-back" class="fas fa-angle-left"></i>
    </div>
    <div class="col-10 text-center" style="padding-left: 0;">
      <h5 id="h5-title">S18-00001</h5>
    </div>
  </div><br>

  <!-- End big container -->
  <div class="container justify-content-center" style="margin-top: 15%; margin-bottom: 15%;">
  	<div class="row">
  		<div class="col-12 text-center pdl pdr"><h5>สมพงศ์ สะอาด <span id="type" onclick="edit_type();">(เครดิต 30)</span></h5></div>
  	</div>
  	<div class="row">
  		<div class="col-12 text-center pdl pdr"><h5 id="title">12/01/18 15:00</h5></div>
  	</div><hr style="width: 75%;">

    <div class="row" style="margin-bottom: 2%;">
    	<div class="col-12 text-center pdl pdr">
    		<h5>รายการ</h5>
    	</div>
    </div>
    <div id="ctn-show" class="container-fullwidth">
    	<div id="prod-1" class="row">
      		<div class="col-1 text-center" ">
        		<p id="amt-1" class="amount">10</p>
      		</div>
			<div class="col-7 text-center no-pd">
				<p id="name-1">โช๊คคู่หลังโตโยต้าวิช KYB</p>
		  	</div>
		  	<div class="col-1 col-@">
		  		<p>@10k</p>
		  	</div>
	        <div class="col-3 text-right no-pd">
	        	<p id="price">100k</p>
	      	</div>
    	</div>
    	<div id="prod-2" class="row">
      		<div class="col-1 text-center" >
        		<p id="amt-2" class="amount">4</p>
      		</div>
			<div class="col-7 text-center no-pd">
				<p id="name-2">โช๊คคู่หลังโตโยต้าวิช KYB</p>
		  	</div>
		  	<div class="col-1 col-@">
		  		<p>@1k</p>
		  	</div>
	        <div class="col-3 text-right no-pd">
	        	<p id="price">4000</p>
	      	</div>
    	</div>
    	<div id="prod-3" class="row">
      		<div class="col-1 text-center" >
        		<p id="amt-3" class="amount">3</p>
      		</div>
			<div class="col-7 text-center no-pd">
				<p id="name-3">โช๊คคู่หลังโตโยต้าวิช KYB</p>
		  	</div>
		  	<div class="col-1 col-@">
		  		<p>@5k</p>
		  	</div>
	        <div class="col-3 text-right no-pd">
	        	<p id="price">15000</p>
	      	</div>
    	</div>
    	<div id="bill-bttm" class="container" style="margin-top: 5%;">
    		<div class="row">
    			<div class="col-4" style="padding-left: 10%;"><h5>รวม</h5></div>
    			<div class="col-7 text-right"><h5>150</h5></div>
    		</div>
    		<div class="row">
    			<div class="col-4" style="padding-left: 10%;"><h5>ลด</h5></div>
    			<div class="col-7 text-right"><h5 id="discount">150</h5></div>
    		</div>
    		<div class="row">
    			<div class="col-4" style="padding-left: 10%;"><h5>สุทธิ  </h5></div>
    			<div class="col-7 text-right"><h5>100000</h5></div>
    		</div>
    		<div class="row">
    			<div class="col-4 nopd" style="padding-left: 10%;"><h5>รับ / ทอน</h5></div>
    			<div class="col-4 text-center"><h5 id="get">150000</h5></div>
    			<div class="col-3 text-right"><h5>1000</h5></div>
    		</div>
    		<div class="row" style="margin-top: 10%;">
    			<div class="col-12 text-center">
    				<h5>ชื่อผู้บันทึก</h5>
    			</div>
    		</div>
    	</div>
    </div>
  <!-- End big container -->

  <!-- Nav menu bottom -->
  <div class="row fixed-bottom" style="background: #d63232;">
    <div class="col-4 text-center" onclick="transition_page_back('index.html');">
      <i id="i-home" class="fas fa-home menu"></i>
    </div>
    <div class="col-4 text-center" onclick="menu('edit')">
      <i id="i-edit" class="fas fa-edit menu"></i>
    </div>
    <div class="col-4 text-center" onclick="menu('del')">
      <i id="i-del" class="fa fa-trash-alt menu"></i>
    </div>
  </div>
  <!-- End Nav menu bottom -->
  <script>
    //Touch animation
    $(".mbtn").on("touchstart", function() {
      $(this).addClass('mbtn-touch');
    });
    $(".mbtn").on("touchend", function() {
      $(this).removeClass('mbtn-touch');
    });
    $(".mbtn-green").on("touchstart", function() {
      $(this).addClass('mbtn-green-touch');
    });
    $(".mbtn-green").on("touchend", function() {
      $(this).removeClass('mbtn-green-touch');
    });
    $(".select_folder").on("touchstart", function() {
      $(this).addClass('select_folder-touch');
    });
    $(".select_folder").on("touchend", function() {
      $(this).removeClass('select_folder-touch');
    });

    /*$(function () {
      var viewer = ImageViewer();
      $('#img').click(function () {
          alert("click");
          var imgSrc = this.src;
          viewer.show(imgSrc);
      });
    });*/
  </script>
</body>

</html>
